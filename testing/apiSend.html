<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>API tester Send</title>
</head>

<body>
    url
    <input type="text" name="" id="url" value="http://localhost:5000/api/save"></br>
    uuid
    <input type="text" name="" id="uuid" value="IS2mQ1a8UfVyZYxcZLFKpKgdhry1"></br>
    level id
    <input type="text" name="" id="levelid" value="1"></br>
    Score
    <input type="text" name="" id="score" value="100"></br>
    Data body</br>
    <textarea name="textarea" placeholder="Enter the text..." id="data">data</textarea></br>
    <input type="button"  value="submit" onclick="sendAPI();">
    <input type="button"  value="fill 5 random" onclick="highscoreFiller();">

    <script>
        function sendAPI() {

            var url = document.querySelector('#url').value;
            var uuidHeader = document.querySelector('#uuid').value;
            var levelidHeader = document.querySelector('#levelid').value;
            var scoreHeader = document.querySelector('#score').value;
            var dataBody = document.querySelector('#data').value;
            // alert("sending data-->" + dataBody + " | to URL-->" + url); 

            fetch(url, {
                method: 'post',
                headers: {
                    Accept: "application/json",
                    "Content-Type": "application/json",
                    uuid: uuidHeader,
                    score: scoreHeader,
                    levelid: levelidHeader
                },
                body: dataBody
            }).then(function (response) {
                console.log(
                    "Response code: " + response.status + " " + response.statusText
                );
                return response;
            })
        }

        const students = [
            "IS2mQ1a8UfVyZYxcZLFKpKgdhry1",
            "U9KmSY5Uu5XceG87mDj5SiIRPys1",
            "xtetXoHxRNPwcJ6Il5aClxTxk4t2",
            "b5X82uY5PAM7hm6JgE4fpETsfaX2",
            "u84cKFygRPPsMqn8ddfvEwe5F962",
            "g6u4n1pwTOdvVvv3zHKdjaGTjY33"
        ]

        function highscoreFiller(){
            students.forEach(student => {
                console.log("sending score for student-->" + student);
                document.querySelector('#uuid').value = student;
                document.querySelector('#score').value = Math.floor((Math.random() * 100) + 1);
                sendAPI();
            })
        }

    </script>

</body>

</html>